#include "systemc.h"

#ifndef CONSUMER_H_
#define CONSUMER_H_

SC_MODULE(Consumer){

	sc_out<int> cFloor;
	sc_vector< sc_in< sc_bv< 1 > > > upList,downList;
	sc_bit etst;

	SC_CTOR(Consumer){
		upList.init(4);
		cFloor.initialize(0);
		SC_METHOD(consume);
		sensitive << upList[2];
	}

	void consume()
	{
		if(checkUpList()){
			etst = "1";
		}
		else{
			etst = "0";
			}

		cout << etst << endl;
	}

	bool checkUpList(){
		for(uint i(cFloor);i < upList.size();i++){
			if(upList[i].read()== "1"){
				return true;
			}
		}
		return false;
	}

	bool checkDownList(){
		for(uint i(0);cFloor > i;i++){
			if(downList[i].read()== "1"){
				return true;
			}
		}
		return false;
	}
};

#endif
